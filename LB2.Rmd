---
title: "Лабораторна робота 2. Перетворення даних з dplyr"
author: "Шевченко"
date: "`r Sys.Date()`"
output: html_document
---

# Зміст
- [Нормалізація значень](#нормалізація-значень)
- [Обчислення середніх значень](#обчислення-середніх-значень)
- [Фільтрація даних](#фільтрація-даних)
- [Додавання нових стовпців](#додавання-нових-стовпців)
- [Висновки](#висновки)

```{r}
# Завантаження бібліотеки
library(dplyr)

# Завантаження вбудованого набору даних iris
data(iris)
# 1. Нормалізація значень у стовпцях, назви яких закінчуються на "Length"
iris_scaled <- iris %>%
  mutate(across(ends_with("Length"), ~ . / mean(., na.rm = TRUE)))

# Виведення перших рядків таблиці після нормалізації
cat("Таблиця з нормалізованими стовпцями, що закінчуються на 'Length':\n")
print(head(iris_scaled))
# 2. Обчислення середніх значень стовпців, назви яких починаються на "Sepal", згрупованих за Species
iris_means <- iris %>%
  group_by(Species) %>%
  summarise(across(starts_with("Sepal"), mean, na.rm = TRUE))

# Виведення результату
cat("Середні значення стовпців, що починаються на 'Sepal', згруповані за 'Species':\n")
print(iris_means)
# 3. Вибір рядків, де довжина пелюсток (Petal.Length) перевищує середнє значення
petal_above_avg <- iris %>%
  filter(Petal.Length > mean(Petal.Length, na.rm = TRUE))

# Виведення результату фільтрації
cat("Рядки, де Petal.Length перевищує середнє значення:\n")
print(head(petal_above_avg))
# 4. Додавання нового стовпця з відношенням довжини пелюстки до її ширини
iris_extended <- iris %>%
  mutate(Petal.Ratio = Petal.Length / Petal.Width)

# Виведення перших рядків таблиці з новим стовпцем
cat("Таблиця з доданим стовпцем Petal.Ratio:\n")
print(head(iris_extended))

#висновки
У ході роботи було розглянуто базові можливості пакету dplyr для маніпулювання даними. Було виконано нормалізацію значень, обчислено середні значення з групуванням, реалізовано фільтрацію рядків за умовою та додано новий стовпець з розрахунковими даними. Ці прийоми значно спрощують аналіз і трансформацію великих наборів даних.
